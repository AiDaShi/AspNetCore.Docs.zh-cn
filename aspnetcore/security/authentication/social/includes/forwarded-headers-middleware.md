## <a name="forward-request-information-with-a-proxy-or-load-balancer"></a><span data-ttu-id="94b83-101">使用代理或负载均衡器转发请求信息</span><span class="sxs-lookup"><span data-stu-id="94b83-101">Forward request information with a proxy or load balancer</span></span>

<span data-ttu-id="94b83-102">如果应用部署在代理服务器或负载均衡器后面，则可能会将某些原始请求信息转发到请求标头中的应用。</span><span class="sxs-lookup"><span data-stu-id="94b83-102">If the app is deployed behind a proxy server or load balancer, some of the original request information might be forwarded to the app in request headers.</span></span> <span data-ttu-id="94b83-103">此信息通常包括安全请求方案 (`https`)、主机和客户端 IP 地址。</span><span class="sxs-lookup"><span data-stu-id="94b83-103">This information usually includes the secure request scheme (`https`), host, and client IP address.</span></span> <span data-ttu-id="94b83-104">应用不会自动读取这些请求标头以发现和使用原始请求信息。</span><span class="sxs-lookup"><span data-stu-id="94b83-104">Apps don't automatically read these request headers to discover and use the original request information.</span></span>

<span data-ttu-id="94b83-105">方案用于通过外部提供程序影响身份验证流的链接生成。</span><span class="sxs-lookup"><span data-stu-id="94b83-105">The scheme is used in link generation that affects the authentication flow with external providers.</span></span> <span data-ttu-id="94b83-106">丢失安全方案 (`https`) 会导致应用生成不正确且不安全的重定向 URL。</span><span class="sxs-lookup"><span data-stu-id="94b83-106">Losing the secure scheme (`https`) results in the app generating incorrect insecure redirect URLs.</span></span>

<span data-ttu-id="94b83-107">使用转发标头中间件以使应用可以使用原始请求信息来进行请求处理。</span><span class="sxs-lookup"><span data-stu-id="94b83-107">Use Forwarded Headers Middleware to make the original request information available to the app for request processing.</span></span>

<span data-ttu-id="94b83-108">有关详细信息，请参阅 <xref:host-and-deploy/proxy-load-balancer>。</span><span class="sxs-lookup"><span data-stu-id="94b83-108">For more information, see <xref:host-and-deploy/proxy-load-balancer>.</span></span>
