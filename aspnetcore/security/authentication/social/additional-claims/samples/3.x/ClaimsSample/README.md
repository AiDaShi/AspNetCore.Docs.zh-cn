# <a name="additional-claims-sample-app"></a><span data-ttu-id="c80f8-101">其他声明示例应用</span><span class="sxs-lookup"><span data-stu-id="c80f8-101">Additional Claims Sample App</span></span>

<span data-ttu-id="c80f8-102">示例应用演示了如何：</span><span class="sxs-lookup"><span data-stu-id="c80f8-102">The sample app demonstrates how to:</span></span>

* <span data-ttu-id="c80f8-103">从 Google 获取用户的名字和姓氏，并使用 Google 提供的值存储名称声明。</span><span class="sxs-lookup"><span data-stu-id="c80f8-103">Obtain the user's given name and surname from Google and store the name claims with the values provided by Google.</span></span>
* <span data-ttu-id="c80f8-104">将 Google 访问令牌存储在用户的 @no__t 中。</span><span class="sxs-lookup"><span data-stu-id="c80f8-104">Store the Google access token in the user's `AuthenticationProperties`.</span></span>

<span data-ttu-id="c80f8-105">使用示例应用：</span><span class="sxs-lookup"><span data-stu-id="c80f8-105">To use the sample app:</span></span>

1. <span data-ttu-id="c80f8-106">注册应用并获取有效的客户端 ID 和客户端密码以进行 Google 身份验证。</span><span class="sxs-lookup"><span data-stu-id="c80f8-106">Register the app and obtain a valid client ID and client secret for Google authentication.</span></span> <span data-ttu-id="c80f8-107">有关详细信息，请参阅[Google 外部登录设置](https://docs.microsoft.com/aspnet/core/security/authentication/social/google-logins)。</span><span class="sxs-lookup"><span data-stu-id="c80f8-107">For more information, see [Google external login setup](https://docs.microsoft.com/aspnet/core/security/authentication/social/google-logins).</span></span>
1. <span data-ttu-id="c80f8-108">在 `Startup.ConfigureServices` 的[GoogleOptions](https://docs.microsoft.com/dotnet/api/microsoft.aspnetcore.authentication.google.googleoptions)中提供应用程序的客户端 ID 和客户端机密。</span><span class="sxs-lookup"><span data-stu-id="c80f8-108">Provide the client ID and client secret to the app in the [GoogleOptions](https://docs.microsoft.com/dotnet/api/microsoft.aspnetcore.authentication.google.googleoptions) of `Startup.ConfigureServices`.</span></span>
1. <span data-ttu-id="c80f8-109">运行应用并请求 "我的声明" 页。</span><span class="sxs-lookup"><span data-stu-id="c80f8-109">Run the app and request the My Claims page.</span></span> <span data-ttu-id="c80f8-110">如果用户未登录，应用将重定向到 Google。</span><span class="sxs-lookup"><span data-stu-id="c80f8-110">When the user isn't signed in, the app redirects to Google.</span></span> <span data-ttu-id="c80f8-111">用 Google 登录。</span><span class="sxs-lookup"><span data-stu-id="c80f8-111">Sign in with Google.</span></span> <span data-ttu-id="c80f8-112">Google 会将用户重定向回应用程序（`/MyClaims`）。</span><span class="sxs-lookup"><span data-stu-id="c80f8-112">Google redirects the user back to the app (`/MyClaims`).</span></span> <span data-ttu-id="c80f8-113">用户进行身份验证，并加载 "我的声明" 页。</span><span class="sxs-lookup"><span data-stu-id="c80f8-113">The user is authenticated, and the My Claims page is loaded.</span></span> <span data-ttu-id="c80f8-114">具有 Google 提供的值的 "**用户声明**" 下存在给定名称和姓氏声明。</span><span class="sxs-lookup"><span data-stu-id="c80f8-114">The given name and surname claims are present under **User Claims** with the values provided by Google.</span></span> <span data-ttu-id="c80f8-115">访问令牌显示在 "**身份验证属性**" 下。</span><span class="sxs-lookup"><span data-stu-id="c80f8-115">The access token is displayed under **Authentication Properties**.</span></span>
